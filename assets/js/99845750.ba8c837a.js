"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[735],{3905:function(e,n,t){t.d(n,{Zo:function(){return c},kt:function(){return g}});var o=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function r(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);n&&(o=o.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,o)}return t}function s(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?r(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function i(e,n){if(null==e)return{};var t,o,a=function(e,n){if(null==e)return{};var t,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var l=o.createContext({}),d=function(e){var n=o.useContext(l),t=n;return e&&(t="function"==typeof e?e(n):s(s({},n),e)),t},c=function(e){var n=d(e.components);return o.createElement(l.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return o.createElement(o.Fragment,{},n)}},m=o.forwardRef((function(e,n){var t=e.components,a=e.mdxType,r=e.originalType,l=e.parentName,c=i(e,["components","mdxType","originalType","parentName"]),m=d(t),g=a,p=m["".concat(l,".").concat(g)]||m[g]||u[g]||r;return t?o.createElement(p,s(s({ref:n},c),{},{components:t})):o.createElement(p,s({ref:n},c))}));function g(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var r=t.length,s=new Array(r);s[0]=m;var i={};for(var l in n)hasOwnProperty.call(n,l)&&(i[l]=n[l]);i.originalType=e,i.mdxType="string"==typeof e?e:a,s[1]=i;for(var d=2;d<r;d++)s[d]=t[d];return o.createElement.apply(null,s)}return o.createElement.apply(null,t)}m.displayName="MDXCreateElement"},905:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return i},contentTitle:function(){return l},metadata:function(){return d},toc:function(){return c},default:function(){return m}});var o=t(7462),a=t(3366),r=(t(7294),t(3905)),s=["components"],i={sidebar_position:3,title:"bot extended",tags:["Economy","Demo"]},l="Beginner Demo",d={unversionedId:"eco-pkg/tutorial/bot_extended",id:"eco-pkg/tutorial/bot_extended",title:"bot extended",description:"Full Code",source:"@site/docs/eco-pkg/tutorial/bot_extended.md",sourceDirName:"eco-pkg/tutorial",slug:"/eco-pkg/tutorial/bot_extended",permalink:"/guide/docs/eco-pkg/tutorial/bot_extended",editUrl:"https://github.com/lewd-labs/xyz/edit/main/website/docs/eco-pkg/tutorial/bot_extended.md",tags:[{label:"Economy",permalink:"/guide/docs/tags/economy"},{label:"Demo",permalink:"/guide/docs/tags/demo"}],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"bot extended",tags:["Economy","Demo"]},sidebar:"tutorialSidebar",previous:{title:"bot",permalink:"/guide/docs/eco-pkg/tutorial/bot"},next:{title:"Information",permalink:"/guide/docs/eco-pkg/class/classes"}},c=[{value:"Full Code",id:"full-code",children:[{value:"Working Result",id:"working-result",children:[],level:3},{value:"How it works",id:"how-it-works",children:[],level:3},{value:"The end?",id:"the-end",children:[],level:3}],level:2}],u={toc:c};function m(e){var n=e.components,i=(0,a.Z)(e,s);return(0,r.kt)("wrapper",(0,o.Z)({},u,i,{components:n,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"beginner-demo"},"Beginner Demo"),(0,r.kt)("h2",{id:"full-code"},"Full Code"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'// The required imports\nconst { Economy, CurrencyHandler } = require("discord-ts-economy");\nconst { Client, Intents } = require("discord.js");\n\nconst EconomyClient = new Economy(); // The controller of all our economy functions\nconst handler = new CurrencyHandler();\n\nconst botClient = new Client({\n    intents: [Intents.FLAGS.GUILD_MESSAGES, Intents.FLAGS.GUILDS],\n});\n\n// The ready event starts before all other code. We will put our other Economy init function here.\nbotClient.on("ready", () => {\n    // Allows us to connect to mongodb with our db url.\n    EconomyClient.connect("mongodb string");\n    handler.init(); // loads all our current db data to cache on bot start\n    console.log(`Logged in as ${botClient.user.tag}!`);\n});\n\nconst prefix = "+";\n\nbotClient.on("messageCreate", async (msg) => {\n    /**\n     * Here we check if the message a user sends, starts with our prefix. If it does run the code below, else return\n     * we also check if the message author was a bot.\n     */\n    if (!msg.content.startsWith(prefix) || msg.author.bot) return;\n    /**\n     * To get user input we must check the user message arguments given to use.\n     * We will store them in an array and filter through it for the data.\n     */\n    const args = msg.content.slice(prefix.length).trim().split(" ");\n    // a simple convince for the bot commands using arguments\n    const command = args.shift().toLowerCase();\n\n    /**\n     * the amount of money to add to the users bank or wallet.\n     * because by default all messages in discord are of type string. We will need to turn them into numbers ourselves using the parseInt function/\n     */\n    const amount = parseInt(args[0]);\n    const targetUser = args[1]; // the user to add money to (id)\n    const option = args[2]; // the bank or wallet option.\n\n    // Add command\n    if (command === "add") {\n        // if non of the options are given we will return an invalid reply to help the user correct there input.\n        if (!amount || !targetUser || !option) {\n            return msg.channel.send(\n                `Incorrect usage \u274c Please use: \\`${prefix}add <amount> <user> <wallet / bank>\\``\n            );\n        }\n        // if the wallet option is selected in the last argument\n        else if (option === "wallet".toLocaleLowerCase()) {\n            let data = await handler.add(amount, targetUser, "wallet");\n            console.log(data);\n            return msg.reply({\n                content: `\\`${data.earned}\\` was added to your wallet. wallet - **$${data.wallet}**`,\n            });\n        }\n        // if the bank option is selected in the last argument\n        else if (option === "bank".toLocaleLowerCase()) {\n            /**\n             * In the data variable we are using the add method from the CurrencyHandler class in the package.\n             * This function takes 3 arguments. Amount, TargetUser, and the EconomyMethodOption (bank | wallet).\n             * Here we will pass the arguments into the function.\n             */\n            let data = await handler.add(amount, targetUser, "bank");\n            console.log(data);\n            // msg.reply is a discord.js function that sends our data back to the user. Here we tell them how there balance was updated.\n            return msg.reply({\n                content: `\\`${data.earned}\\` was added to your bank. Bank - **$${data.bank}**`,\n            });\n        } else {\n            /**\n             * if for some reason an error throws from a user argument we have not checked for, throw the exception.\n             * This is just an example and basic fix but I would recommend building a better solution using more specific error handling for the user experience.\n             *  */\n            return msg.channel.send(\n                `Incorrect usage \u274c Please use: \\`${prefix}add <amount> <user> <wallet / bank>\\``\n            );\n        }\n    }\n    // work command\n    else if (command === "work") {\n        /**\n         * Because the work command is used by the message author, we can simply destructure the id from the Discord.js#Message Class and not worry about arguments for this command.\n         */\n        let data = await handler.work(msg.author.id, 100, 500);\n        console.log(data);\n        /**\n         * Sometimes by random, data will return false using this function. This should be considered a failed work function and you can code accordingly to this if case.\n         * If no false, you can access the extra data returned from the work method and use it as shown below.\n         */\n        if (data === false) {\n            return msg.reply({\n                content: `You were sick for work for today. You earned \\`$0\\` dollars and your boss is very annoyed.`,\n            });\n        } else {\n            return msg.reply({\n                content: `You did an amazing job today training the new employs. Take \\`$${data.earned}\\` for you and your family!\\n\\n You now have __**${data.wallet}**__ in your wallet.`,\n            });\n        }\n    }\n});\n\nbotClient.login("");\n')),(0,r.kt)("h3",{id:"working-result"},"Working Result"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"image",src:t(6226).Z})," ",(0,r.kt)("img",{alt:"image2",src:t(7299).Z})),(0,r.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,r.kt)("div",{parentName:"div",className:"admonition-heading"},(0,r.kt)("h5",{parentName:"div"},(0,r.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,r.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,r.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,r.kt)("div",{parentName:"div",className:"admonition-content"},(0,r.kt)("p",{parentName:"div"},"I would recommend checking the official discord guide for building better commands."))),(0,r.kt)("h3",{id:"how-it-works"},"How it works"),(0,r.kt)("p",null,"The above code is everything you need to build a basic economy bot."),(0,r.kt)("p",null,"I tried to leave good commends inside the code example itself for easy understand. However if you want the code without comments copy this:"),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-js"},'const { Economy, CurrencyHandler } = require("discord-ts-economy");\nconst { Client, Intents } = require("discord.js");\n\nconst EconomyClient = new Economy();\nconst handler = new CurrencyHandler();\n\nconst botClient = new Client({\n    intents: [Intents.FLAGS.GUILD_MESSAGES, Intents.FLAGS.GUILDS],\n});\n\nbotClient.on("ready", () => {\n    EconomyClient.connect(\n        ""\n    );\n    handler.init();\n    console.log(`Logged in as ${botClient.user.tag}!`);\n});\n\nconst prefix = "+";\n\nbotClient.on("messageCreate", async (msg) => {\n    if (!msg.content.startsWith(prefix) || msg.author.bot) return;\n    const args = msg.content.slice(prefix.length).trim().split(" ");\n    const command = args.shift().toLowerCase();\n\n    const amount = parseInt(args[0]);\n    const targetUser = args[1];\n    const option = args[2];\n\n    if (command === "add") {\n        if (!amount || !targetUser || !option) {\n            return msg.channel.send(\n                `Incorrect usage \u274c Please use: \\`${prefix}add <amount> <user> <wallet / bank>\\``\n            );\n        } else if (option === "wallet".toLocaleLowerCase()) {\n            let data = await handler.add(amount, targetUser, "wallet");\n            console.log(data);\n            return msg.reply({\n                content: `\\`${data.earned}\\` was added to your wallet. wallet - **$${data.wallet}**`,\n            });\n        } else if (option === "bank".toLocaleLowerCase()) {\n            let data = await handler.add(amount, targetUser, "bank");\n            console.log(data);\n            return msg.reply({\n                content: `\\`${data.earned}\\` was added to your bank. Bank - **$${data.bank}**`,\n            });\n        } else {\n            return msg.channel.send(\n                `Incorrect usage \u274c Please use: \\`${prefix}add <amount> <user> <wallet / bank>\\``\n            );\n        }\n    } else if (command === "work") {\n        let data = await handler.work(msg.author.id, 100, 500);\n        console.log(data);\n        if (data === false) {\n            return msg.reply({\n                content: `You were sick for work for today. You earned \\`$0\\` dollars and your boss is very annoyed.`,\n            });\n        } else {\n            return msg.reply({\n                content: `You did an amazing job today training the new employs. Take \\`$${data.earned}\\` for you and your family!\\n\\n You now have __**${data.wallet}**__ in your wallet.`,\n            });\n        }\n    }\n});\n\nbotClient.login("");\n')),(0,r.kt)("p",null,"If you need more support please join our ",(0,r.kt)("a",{parentName:"p",href:"https://discord.com/invite/N79DZsm3m2"},"discord server"),"."),(0,r.kt)("h3",{id:"the-end"},"The end?"),(0,r.kt)("p",null,"This ends the basic bot tutorial for now. In the future more may be added as the project grows. The rest of the documentation will go into how the internal functions of each class works and a deeper knowledge of javascript is needed to understand the package. Feel free to explore and learn more. ",(0,r.kt)("inlineCode",{parentName:"p"},"\ud83d\udc96")))}m.isMDXComponent=!0},6226:function(e,n,t){n.Z=t.p+"assets/images/example-image-two-b3eca73c54c20c3832c8dc4e15851dfe.png"},7299:function(e,n,t){n.Z=t.p+"assets/images/example-img-111-a99d89dd9607799a3510e8b7dc6925ef.png"}}]);